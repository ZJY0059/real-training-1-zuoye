<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

</body>

</html>
<script>
    //  绑定一: 默认绑定
    // 1.案例一:
    // function foo() {
    //     console.log(this)
    // }
    // foo()//window



    // 2.案例二:
    // function foo1() {
    //     console.log(this)
    // }

    // function foo2() {
    //     console.log(this)
    //     foo1()
    // }

    // function foo3() {
    //     console.log(this)
    //     foo2()
    // }

    // foo3()//window  window window



    // 3.案例三:
    // var obj = {
    //     name: "why",
    //     foo: function () {
    //         console.log(this)
    //     }
    // }

    // var bar = obj.foo
    // bar() // window


    // 4.案例四:
    // function foo() {
    //     console.log(this)
    // }
    // var obj = {
    //     name: "why",
    //     foo: foo
    // }

    // var bar = obj.foo
    // bar() // window









    //  2.隐式绑定`
    //1.案例一:
    // var obj = {
    //     name: "why",
    //     foo: foo
    // }

    // obj.foo() // obj对象

    //2.案例二:
    // var obj = {
    //     name: "why",
    //     eating: function () {
    //         console.log(this.name + "在吃东西")
    //     },
    //     running: function () {
    //         console.log(obj.name + "在跑步")
    //     }
    // }

    // obj.eating()
    // obj.running()

    // var fn = obj.eating
    // fn()


    // 3.案例三:
    // var obj1 = {
    //     name: "obj1",
    //     foo: function () {
    //         console.log(this)
    //     }
    // }

    // var obj2 = {
    //     name: "obj2",
    //     bar: obj1.foo
    // }

    // obj2.bar()





    // 绑定三:显示绑定
    // 1.foo直接调用和call/apply调用的不同在于this绑定的不同
    // foo直接调用指向的是全局对象(window)
    // foo()

    // var obj = {
    //     name: "obj"
    // }

    // // call/apply是可以指定this的绑定对象
    // foo.call(obj)
    // foo.apply(obj)
    // foo.apply("aaaa")


    // // 2.call和apply有什么区别?
    // function sum(num1, num2, num3) {
    //     console.log(num1 + num2 + num3, this)
    // }

    // sum.call("call", 20, 30, 40)
    // sum.apply("apply", [20, 30, 40])

    // 3.call和apply在执行函数时,是可以明确的绑定this, 这个绑定规则称之为显示绑定





    // 绑定四:new 关键字
    //     创建一个空对象；
    // 　　将空对象的原型，指向于构造函数的原型；
    // 　　将空对象作为构造函数的上下文（改变this指向）；
    // 　　对有返回值的构造函数做判断处理





    // 绑定五:箭头函数的绑定
    //   箭头函数原本没有this   他的this父作用域的this
    // var func = () => {
    //     console.log(this);
    // };
    // var obj = {
    //     ber: func,
    // };
    // obj.ber(); //window

    // var o = {
    //     a: 10,
    //     b: {
    //         a: 12,
    //         fn: function () {
    //             console.log(this.a);
    //         },
    //     },
    // };
    // o.b.fn(); //b

















    // function foo() {
    //     console.log(this)
    // }
    // foo()//window




    // function foo1() {
    //     console.log(this)
    // }

    // function foo2() {
    //     console.log(this)
    //     foo1()
    // }

    // function foo3() {
    //     console.log(this)
    //     foo2()
    // }

    // foo3()//window  window window




    // var obj = {
    //     name: "why",
    //     foo: function () {
    //         console.log(this)
    //     }
    // }

    // var bar = obj.foo
    // bar() // window



    // function foo() {
    //     console.log(this)
    // }
    // var obj = {
    //     name: "why",
    //     foo: foo
    // }

    // var bar = obj.foo
    // bar() // window



    // var obj = {
    //     name: "why",
    //     foo: foo
    // }

    // obj.foo()


    // var obj = {
    //     name: "why",
    //     eating: function () {
    //         console.log(this.name + "在吃东西")
    //     },
    //     running: function () {
    //         console.log(obj.name + "在跑步")
    //     }
    // }

    // obj.eating()
    // obj.running()

    // var fn = obj.eating
    // fn()



    // var obj1 = {
    //     name: "obj1",
    //     foo: function () {
    //         console.log(this)
    //     }
    // }

    // var obj2 = {
    //     name: "obj2",
    //     bar: obj1.foo
    // }

    // obj2.bar()






    // foo()

    // var obj = {
    //     name: "obj"
    // }


    // foo.call(obj)
    // foo.apply(obj)
    // foo.apply("aaaa")



    // function sum(num1, num2, num3) {
    //     console.log(num1 + num2 + num3, this)
    // }

    // sum.call("call", 20, 30, 40)
    // sum.apply("apply", [20, 30, 40])


    // var func = () => {
    //     console.log(this);
    // };
    // var obj = {
    //     ber: func,
    // };
    // obj.ber(); //window

    // var o = {
    //     a: 10,
    //     b: {
    //         a: 12,
    //         fn: function () {
    //             console.log(this.a);
    //         },
    //     },
    // };
    // o.b.fn(); //b
















    // function foo() {
    //     console.log(this)
    // }
    // foo()//window




    // function foo1() {
    //     console.log(this)
    // }

    // function foo2() {
    //     console.log(this)
    //     foo1()
    // }

    // function foo3() {
    //     console.log(this)
    //     foo2()
    // }

    // foo3()//window  window window




    // var obj = {
    //     name: "why",
    //     foo: function () {
    //         console.log(this)
    //     }
    // }

    // var bar = obj.foo
    // bar() // window



    // function foo() {
    //     console.log(this)
    // }
    // var obj = {
    //     name: "why",
    //     foo: foo
    // }

    // var bar = obj.foo
    // bar() // window



    // var obj = {
    //     name: "why",
    //     foo: foo
    // }

    // obj.foo()


    // var obj = {
    //     name: "why",
    //     eating: function () {
    //         console.log(this.name + "在吃东西")
    //     },
    //     running: function () {
    //         console.log(obj.name + "在跑步")
    //     }
    // }

    // obj.eating()
    // obj.running()

    // var fn = obj.eating
    // fn()



    // var obj1 = {
    //     name: "obj1",
    //     foo: function () {
    //         console.log(this)
    //     }
    // }

    // var obj2 = {
    //     name: "obj2",
    //     bar: obj1.foo
    // }

    // obj2.bar()






    // foo()

    // var obj = {
    //     name: "obj"
    // }


    // foo.call(obj)
    // foo.apply(obj)
    // foo.apply("aaaa")



    // function sum(num1, num2, num3) {
    //     console.log(num1 + num2 + num3, this)
    // }

    // sum.call("call", 20, 30, 40)
    // sum.apply("apply", [20, 30, 40])


    var func = () => {
        console.log(this);
    };
    var obj = {
        ber: func,
    };
    obj.ber(); //window

    var o = {
        a: 10,
        b: {
            a: 12,
            fn: function () {
                console.log(this.a);
            },
        },
    };
    o.b.fn(); //b
</script>