<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>
</html>
<script>
    // 1.实例化promise函数
    // 2.通过 new XMLHttpRequest() 实例化连接对象
    // 3.确定请求方式,以及请求的接口路径
    // 4.发送请求
    // 5.绑定事件,处理响应结果
    // 6.prominse函数的调用



//     // 实例化promise函数
//     const p=new Promise((resolve, reject) => {
//         var xhr=new XMLHttpRequest()
//         //  创建初始化链接
//         xhr.open('GET','https://elm.cangdu.org/v1/users/count')
//         // 确定请求方法和接口
//         xhr.send()
//         // 发送
//       xhr.onreadystatechange=function(){
//         //   处理响应结果
//           if(xhr.readyState===4){
//               if(xhr.status>=200&& xhr.status<300){
//                 //   判断响应码 200-299
//                   resolve(xhr.response)
//                 //   成功
//               }else{
//                   reject(xhr.response)
//                 //   失败
//               }
//           }
//       }
//    })
//    p.then(res=>{
//        console.log(res);
//    }).catch(err=>{
//        console.log(err);
//    })
















  // 实例化promise函数
//   const p=new Promise((resolve, reject) => {
//         var xhr=new XMLHttpRequest()
//         //  创建初始化链接
//         xhr.open('GET','https://elm.cangdu.org/v1/users/count')
//         // 确定请求方法和接口
//         xhr.send()
//         // 发送
//       xhr.onreadystatechange=function(){
//         //   处理响应结果
//           if(xhr.readyState===4){
//               if(xhr.status>=200&& xhr.status<300){
//                 //   判断响应码 200-299
//                   resolve(xhr.response)
//                 //   成功
//               }else{
//                   reject(xhr.response)
//                 //   失败
//               }
//           }
//       }
//    })
//    p.then(res=>{
//        console.log(res);
//    }).catch(err=>{
//        console.log(err);
//    })













  // 实例化promise函数
  const p=new Promise((resolve, reject) => {
        var xhr=new XMLHttpRequest()
        //  创建初始化链接
        xhr.open('GET','https://elm.cangdu.org/v1/users/count')
        // 确定请求方法和接口
        xhr.send()
        // 发送
      xhr.onreadystatechange=function(){
        //   处理响应结果
          if(xhr.readyState===4){
              if(xhr.status>=200&& xhr.status<300){
                //   判断响应码 200-299
                  resolve(xhr.response)
                //   成功
              }else{
                  reject(xhr.response)
                //   失败
              }
          }
      }
   })
   p.then(res=>{
       console.log(res);
   }).catch(err=>{
       console.log(err);
   })
</script>